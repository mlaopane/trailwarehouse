{# TrailWarehouse > AppBundle > Resources > views > signin_modal.html.twig #}

<!-- Signin Modal -->
<div class="modal fade" id="cart-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">

      <!-- # Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title" id="exampleModalLabel">Contenu du panier</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- Modal Header # -->

      <!-- # Form Container -->
      <div class="form-container">

        <!-- # Modal Body -->
        <div class="modal-body">

          <!-- # Cart -->
          <div id="cart">
            {% if app.session.get('cart') is empty or app.session.get('cart').items is empty %}
              <div class="ness-block warning">Votre panier est vide</div>
            {% else %}
              {% set cart = app.session.get('cart') %}
              <!-- # Cart Items -->
              <table id="table-cart-items" class="mb-3">
                <thead>
                  <tr>
                    <th>Produit</th>
                    <th>Couleur</th>
                    <th>Taille</th>
                    <th>Prix</th>
                    <th>Quantité</th>
                    <th>Sous-total</th>
                  </tr>
                </thead>
                <tbody>
                  {% for item in cart.items %}
                  <tr>
                    <td class="text-left">
                      <span class="font-italic">{{ item.product.family.brand.name | ucwords }}</span>
                      <span>{{ item.product.family.name | capitalize }}</span>
                    </td>
                    <td class="text-left">{{ item.product.color.name | capitalize }}</td>
                    <td class="text-left">{{ item.product.size.value | upper }} {{ item.product.size.unitShortcut }}</td>
                    <td class="text-right">{{ item.product.price }} €</td>
                    <td class="text-right">{{ item.quantity }}</td>
                    <td class="text-right">{{ item.total }} €</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
              <!-- Cart Items # -->
              <!-- # Cart Total -->
              <p class="flex justify-content-end">
                <span class="font-weight-bold">Total</span>&nbsp;:&nbsp;<span class="font-weight-bold text-info">{{ cart.total }} €</span>
              </p>
              <!-- Cart Total # -->
            {% endif %}
          </div>
          <!-- Cart # -->

        </div>
        <!-- Modal Body # -->

        <!-- # Modal Footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-cancel" data-dismiss="modal">Continuer mon shopping</button>
          <button type="submit" class="btn btn-confirm">Passer la commande</button>
        </div>
        <!-- Modal Footer # -->

      </div>
      <!-- Form Container # -->

    </div>
  </div>
</div>
